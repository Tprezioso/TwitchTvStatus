<!DOCTYPE html>
<html>
<header>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
  <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css"/>
</header>
<style>
body {
  background-image: url('http://wallpapercraze.com/images/wallpapers/twitch_w1.jpeg');
  color: white;
  background-size:auto;
}
div,output{
  padding:10px;
  border-radius:10px;
  margin: 20px;
}
a,p{
  font-size:20px;
  color:white;
  outline:none;
}
.btn-primary{
  background-color: purple;
  backface-visibility: visible;
  cursor: pointer;
}
</style>
<script>
var channelList = [];
//Run out Jquery
$(document).ready(function(){
  var channels = ["ESL_SC2", "OgamingSC2"];//, "cretetion", "freecodecamp"];
  var eSL_SC2 = {name:"ESL_SC2", stat:"",pic:"",url:"https://www.twitch.tv/ESL_SC2"};
  var ogamingSC2 = {name:"OgamingSC2", stat:"", pic:"", url:"https://www.twitch.tv/OgamingSC2"}
  var status = [];
  var icons = [];
  var displayNames = [];
  for (var i = 0; i < channels.length; i++) {
    var url="https://wind-bow.hyperdev.space/twitch-api/streams/"+channels[i]+"?callback=?";
    $.getJSON(url, function(data1){
      if (data1.stream===null){
        eSL_SC2.stat = "Offline";

      } else {
        eSL_SC2.stat = "Online";
      }
      var statusString = "";
      for (var i = 0; i < status.length; i++) {
        statusString += "<br>"+status[i]+"<br>";
      }
      $('#followerInfo').prepend("<p>"+status+"</p>");
    });
  }

  for (var i = 0; i < channels.length; i++) {
    var followerURL = "https://wind-bow.hyperdev.space/twitch-api/users/"+channels[i]+"?callback=?"
    $.getJSON(followerURL, function(data2){
      console.log(data2);
      eSL_SC2.pic = data2.logo;
      displayNames.push(data2.display_name);
      icons.push(data2.logo);
      var displayString = "";
      var iconString = "";
      for (var i = 0; i < 4; i++) {
        displayString += "<br>"+displayNames[i]+"<br>";
        iconString += "<br><img SRC="+icons[i]+" width=40 height=40><br>";
      }
        console.log(eSL_SC2.stat);
       $('#followerInfo').prepend("<div><div id='follow' class='btn-primary'><a href="+eSL_SC2.url+"><h2><img SRC="+eSL_SC2.pic+" width=40 height=40>"+eSL_SC2.name +"</h2><p>"+eSL_SC2.stat+"</p></a></div></div>");
    });
  }

});
</script>
<div class="container">
  <div id="header" class="text-center">
    <h1>Use the Twitch TV JSON</h1>
  </div>
    <div id="rows" class"row">
      <h1>
    <div class="col-md-4 col">
      Logo:
      <p id="icon"></p>
      </div>
    <div id="displayName" class="col-md-4">
      Display Name:
      <p id="first"></p>
      </div>
    <div class="col-md-4">
      Status:
      <p id="status"></p>
      </div>
        </h1>
  </div>
    <div id="followerInfo" class="output" style="color:white"></div>
    <p id="shit"><p>
</div>
</html>
